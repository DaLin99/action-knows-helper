{"version":3,"sources":["uni-app:///main.js","webpack:////Users/shaohuilin/Desktop/mini_program/uni_app/action-knows-helper/pages/lostAndFound/submitFound.vue?5bb4","webpack:////Users/shaohuilin/Desktop/mini_program/uni_app/action-knows-helper/pages/lostAndFound/submitFound.vue?f0f5","webpack:////Users/shaohuilin/Desktop/mini_program/uni_app/action-knows-helper/pages/lostAndFound/submitFound.vue?5129","webpack:////Users/shaohuilin/Desktop/mini_program/uni_app/action-knows-helper/pages/lostAndFound/submitFound.vue?35f0","uni-app:///pages/lostAndFound/submitFound.vue","webpack:////Users/shaohuilin/Desktop/mini_program/uni_app/action-knows-helper/pages/lostAndFound/submitFound.vue?cc40","webpack:////Users/shaohuilin/Desktop/mini_program/uni_app/action-knows-helper/pages/lostAndFound/submitFound.vue?d884"],"names":["createPage","Page"],"mappings":";;;;;;;;;;kDAAA;AACA;AACA,+G;AACAA,UAAU,CAACC,oBAAD,CAAV,C;;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAwH;AACxH;AAC+D;AACL;AACyB;;;AAGnF;AACmN;AACnN,gBAAgB,iNAAU;AAC1B,EAAE,iFAAM;AACR,EAAE,sFAAM;AACR,EAAE,+FAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,0FAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,aAAa,sTAEN;AACP,KAAK;AACL;AACA,aAAa,8RAEN;AACP,KAAK;AACL;AACA,aAAa,0VAEN;AACP;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACpDA;AAAA;AAAA;AAAA;AAAw1B,CAAgB,yyBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC0G52B;AACA,2F;AACA;AACA;AACA,8BADA,EADA;;AAIA,MAJA,kBAIA;AACA;AACA;AACA;AACA;AACA,sBADA;AAEA,mBAFA,EADA;AAIA;AACA,mBADA;AAEA,mBAFA,EAJA;AAOA;AACA,sBADA;AAEA,iBAFA,EAPA;AAUA;AACA,sBADA;AAEA,mBAFA,EAVA;AAaA;AACA,kBADA;AAEA,mBAFA,EAbA;;AAiBA;AACA,0BADA;AAEA,qBAFA,EAjBA;AAoBA;AACA,wBADA;AAEA,mBAFA,EApBA;AAuBA;AACA,sBADA;AAEA,iBAFA,EAvBA;;;AA4BA;AACA;AACA;AACA;AACA;AACA,wBADA;AAEA,4EAFA,EADA,CADA;;;;AAQA,KATA;AAUA;AACA;AACA;AACA,yCADA;AAEA,uBAFA;AAGA,wBAHA;AAIA,sBAJA;;AAMA,GAtDA;;AAwDA,SAxDA,qBAwDA;AACA,GAzDA;AA0DA;AACA,oBADA,4BACA,IADA,EACA;AACA;AACA;AACA;AACA;AACA,KANA;AAOA;AACA,YARA,oBAQA,CARA,EAQA,KARA,EAQA;AACA;AACA;AACA,KAXA;AAYA,cAZA,sBAYA,CAZA,EAYA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAvBA;;AAyBA,YAzBA,sBAyBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BADA;AAEA,4BAFA;;AAIA;AACA,gBADA;AAEA,qBAFA;AAGA;AACA;AACA;AACA;AACA,yBADA;AAEA,mBAFA,mBAEA,GAFA,EAEA;AACA;AACA;AACA,8BADA;AAEA,8BAFA;AAGA,wCAHA;AAIA,kCAJA;AAKA;AACA;AACA,iBAPA;AAQA;AACA;AACA;AACA;AACA;AACA,eAbA;AAcA,aAlBA;;AAoBA,SA1BA;;AA4BA,KA/DA;AAgEA;AACA,UAjEA,oBAiEA;AACA;AACA;AACA;AACA,yBADA;;AAGA;AACA;AACA,SANA;;AAQA,OATA,EASA,KATA,CASA;AACA;AACA,OAXA;AAYA,KA9EA,EA1DA,E;;;;;;;;;;;;;AC5GA;AAAA;AAAA;AAAA;AAA8iD,CAAgB,o5CAAG,EAAC,C;;;;;;;;;;;ACAlkD;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/lostAndFound/submitFound.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/lostAndFound/submitFound.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./submitFound.vue?vue&type=template&id=7ed40de3&\"\nvar renderjs\nimport script from \"./submitFound.vue?vue&type=script&lang=js&\"\nexport * from \"./submitFound.vue?vue&type=script&lang=js&\"\nimport style0 from \"./submitFound.vue?vue&type=style&index=0&lang=less&scope=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/lostAndFound/submitFound.vue\"\nexport default component.exports","export * from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./submitFound.vue?vue&type=template&id=7ed40de3&\"","var components\ntry {\n  components = {\n    uniForms: function() {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-forms/components/uni-forms/uni-forms\" */ \"@/uni_modules/uni-forms/components/uni-forms/uni-forms.vue\"\n      )\n    },\n    uniFormsItem: function() {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-forms/components/uni-forms-item/uni-forms-item\" */ \"@/uni_modules/uni-forms/components/uni-forms-item/uni-forms-item.vue\"\n      )\n    },\n    uniDatetimePicker: function() {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-datetime-picker/components/uni-datetime-picker/uni-datetime-picker\" */ \"@/uni_modules/uni-datetime-picker/components/uni-datetime-picker/uni-datetime-picker.vue\"\n      )\n    }\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var l0 = Object.keys(_vm.formData)\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        l0: l0\n      }\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./submitFound.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./submitFound.vue?vue&type=script&lang=js&\"","<template>\n  <view class=\"submit-info-container\">\n    <uni-forms \n      ref=\"form\" \n      :value=\"formData\" \n      :rules=\"rules\">\n      <uni-forms-item\n        label=\"拾到时间\" \n        name=\"lostTime\"\n      >\n        <uni-datetime-picker\n          v-model=\"formData.lostTime\" \n          type=\"date\" \n          start=\"2000-06-01 06:30:30\" \n          end=\"2030-6-1\" \n          return-type=\"timestamp\"/>\n      </uni-forms-item> \n      <uni-forms-item\n        label=\"拾到地点\"\n        name=\"place\"\n      >\n        <input\n          v-model=\"formData.place\"\n          type=\"text\"\n          placeholder=\"请填写拾到地点\"\n          class=\"mt12\"\n        >\n      </uni-forms-item>\n      <uni-forms-item \n        label=\"物品名称\"\n        name=\"lostName\"\n        class=\"mt12\">\n        <input \n          v-model=\"formData.lostName\" \n          type=\"text\" \n          placeholder=\"请填写物品名称\" >\n      </uni-forms-item>\n      <uni-forms-item \n        label=\"物品分类\" \n        name=\"lostType\">\n        <picker\n          :range=\"lostTypeList\" \n          mode=\"selector\"\n          class=\"mt12\"\n          @change=\"pickType\"\n        >{{ lostTypeList[formData.lostType] || '请选择分类' }}</picker>\n      </uni-forms-item>\n      <uni-forms-item \n        name=\"tell\"\n        label=\"联系方式\"\n        class=\"mt12\">\n        <input\n          v-model=\"formData.tell\"       type=\"text\" \n          placeholder=\"请填写联系方式\" \n          class=\"mt12\">\n      </uni-forms-item>\n      <uni-forms-item \n        label=\"Wechat\" \n        name=\"losterWechat\"\n        class=\"mt12\">\n        <input\n          v-model=\"formData.losterWechat\" \n          type=\"text\" \n          class=\"mt12\"\n          placeholder=\"请填写Wechat\" >\n      </uni-forms-item>\n      \n      <uni-forms-item \n        label=\"选择图片\" \n        name=\"imageUrl\">\n        <view class=\"image-picker\">\n          <cover-image \n            v-if=\"formData.imageUrl\"\n            :src=\"formData.imageUrl\" \n            class=\"image-preview mb10\"\n            @click=\"previewImage(formData.imageUrl)\"\n          />\n          <button\n            type=\"default\" \n            @click=\"pickFile\"\n          > +\n          </button>\n        </view>\n      </uni-forms-item>\n      <uni-forms-item \n        label=\"备注信息\" \n        name=\"remarkInfo\">\n        <textarea\n          v-model=\"formData.remarkInfo\" \n          placeholder=\"请填写备注信息\"\n          class=\"mt12\"/>\n      </uni-forms-item>\n    </uni-forms>\n    <button \n      type=\"primary\" \n      @click=\"submit\">发布</button>\n    <view \n      v-for=\"(item, index) in Object.keys(formData)\" \n      :key=\"index\">\n      {{ item }}: {{ formData[item] }}\n    </view>\n  </view>\n</template>\n\n<script>\nimport MxDatePicker from '@/components/mx-datepicker/mx-datepicker.vue';\nimport COS from 'cos-wx-sdk-v5';\nimport api from '../../common/api/index'\nexport default {\n  components: {\n    MxDatePicker,\n  },\n  data() {\n    let formData = {};\n    let formRules = {} ;\n    const arr = [\n      {\n        name:'lostTime',\n        label:'拾到时间',\n      },{\n        name:'place',\n        label:'拾到地点',\n      },{\n        name:'lostName',\n        label:'名称',\n      },{\n        name:'lostType',\n        label:'物品分类',\n      },{\n        name:'tell',\n        label:'联系方式',\n      }\n      ,{\n        name:'losterWechat',\n        label:'wechat',\n      },{\n        name:'remarkInfo',\n        label:'备注信息',\n      },{\n        name:'imageUrl',\n        label:'图片',\n      }\n    ];  \n    arr.forEach(item => formData[item.name] = '' );\n    arr.forEach((item,index) => {\n      formRules[item.name] = {\n        rules:[\n          {\n            required:true,\n            errorMessage:`请选择/填写${item.label}`\n          }\n        ]\n      };\n    });\n    this.rules = formRules;\n    this.formData = formData;\n    return {\n      lostTypeList:['日用品', '学习书籍', '其他'],\n      showPicker: false,\n      formData: formData,\n      rules: formRules\n    };\n  },\n  \n  created() {\n  },\n  methods: {\n    onShowDatePicker(type) {\n      //显示\n      this.type = type;\n      this.showPicker = true;\n      this.value = this[type];\n    },\n    // 点击下拉框选择\n    pickType(e,value) {\n      this.formData.lostTime ='2020-12-12';\n      this.formData.lostType = e.detail.value;\n    },\n    onSelected(e) {\n      //选择\n      this.showPicker = false;\n      if (e) {\n        this.lostTime = e.value;\n        this[this.type] = e.value;\n        //选择的值\n        console.log('value => ' + e.value);\n        //原始的Date对象\n        console.log('date => ' + e.date);\n      }\n    },\n    \n    pickFile() {\n      const that = this;\n      const Bucket = 'xqbzheng-1300584219';\n      const Region = 'ap-guangzhou';\n      const SecretId = 'AKIDve9XfEyiRxubz9wmEb8PORElCNQGnw96'; \n      const SecretKey= 'qUtGw7tkMipjaCdbQZSs0zoPyHYbZOrb';\n      const cos = new COS({\n        SecretId,\n        SecretKey,\n      });\n      uni.chooseMessageFile({\n        count: 1,\n        type: 'image',\n        success: (res)=>{\n          const filePath = res.tempFiles[0].path;\n          const filename = filePath.substr(filePath.lastIndexOf('/') + 1);\n          uni.compressImage({\n            src:filePath,\n            success(res) {\n              const compressImagePath = res.tempFilePath;\n              cos.postObject({\n                 Bucket,\n                 Region,\n                 Key: 'image/' + filename,\n                 FilePath: filePath,\n                 onProgress: function(progressData) {\n                     console.log(JSON.stringify(progressData));\n                 }\n              }, function(err, data) {\n                  console.log(err,data);\n                if(!err) {\n                  that.formData.imageUrl = `https://${data.Location}`;\n                }\n              });\n            }\n          })\n        }\n      });\n    },\n    // 点击发布按钮\n    submit() {\n       this.$refs.form.submit().then(res=>{\n         api.submitLost({...res, type: 'found'}).then(()=>{\n           uni.showToast({\n             title: '发布成功'\n           });\n           // 页面回跳\n           uni.navigateBack();\n         });\n         \n       }).catch(err =>{\n           console.log('表单错误信息：', err);\n       });\n    },\n  },\n};\n</script>\n\n<style lang=\"less\" scope>\n.submit-info-container {\n\tpadding: 36rpx 38rpx;\n  .form-item {\n    margin-top: 24rpx;\n    display: flex;\n    // justify-content: space-between;\n\t.form-title {\n\t\twidth: 180rpx;\n\t}\n  }\n}\n.image-picker {\n  display: flex;\n  flex-direction: row;\n  button{\n    display: inline-block;\n    margin: 0;\n    width: 100rpx;\n    height: 100rpx;\n    background-color: #e1e9ea;\n    color: #FFFFFF;\n    font-size: 40rpx;\n  }\n  .image-preview {\n    width: 200rpx;\n    height: 200rpx;\n  }\n}\n.mt12{\n  margin-top: 12rpx;\n}\n</style>\n","import mod from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-2!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-5!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./submitFound.vue?vue&type=style&index=0&lang=less&scope=true&\"; export default mod; export * from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-2!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-5!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./submitFound.vue?vue&type=style&index=0&lang=less&scope=true&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1616233978209\n      var cssReload = require(\"/Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}